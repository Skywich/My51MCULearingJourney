C51 COMPILER V9.60.7.0   BUZZER                                                            02/28/2026 14:28:57 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE BUZZER
OBJECT MODULE PLACED IN .\Objects\Buzzer.obj
COMPILER INVOKED BY: D:\KeilC51\C51\BIN\C51.EXE Buzzer.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\Bu
                    -zzer.lst) OBJECT(.\Objects\Buzzer.obj)

line level    source

   1          #include <reg52.h>
   2          #include <intrins.h>
   3          
   4          typedef unsigned char u8;
   5          typedef unsigned int u16;
   6          
   7          //duration :in 120bpm unit is 10us
   8          #define QUAR  50000
   9          #define DOTQ  75000L
  10          #define HALF  100000L
  11          #define WHOL  200000L
  12          #define EIGH  25000
  13          #define DOTE  37500
  14          #define SIXTE 12500
  15          #define TRIQUAR 16667
  16          #define TRIEIGH 8333
  17          
  18          //pitch unit is 10us
  19          #define C3 764
  20          #define Cs3  722
  21          #define D3   681
  22          #define Ds3  643
  23          #define E3   607
  24          #define F3   573
  25          #define Fs3  541     
  26          #define G3   510     
  27          #define Gs3  482   
  28          #define A3   455     
  29          #define As3  429     
  30          #define B3   405    
  31          
  32          #define C4   382     
  33          #define Cs4  361     
  34          #define D4   341     
  35          #define Ds4  322     
  36          #define E4   303    
  37          #define F4   286
  38          #define Fs4  270    
  39          #define G4   255    
  40          #define Gs4  241     
  41          #define A4   227     
  42          #define As4  215    
  43          #define B4   203     
  44          
  45          #define C5   191    
  46          #define Cs5  180     
  47          #define D5   170     
  48          #define Ds5  161     
  49          #define E5   152     
  50          #define F5   143     
  51          #define Fs5  135     
  52          #define G5   128     
  53          #define Gs5  120     
  54          #define A5   114     
C51 COMPILER V9.60.7.0   BUZZER                                                            02/28/2026 14:28:57 PAGE 2   

  55          #define As5  107    
  56          #define B5   101    
  57          
  58          #define REST 0
  59          
  60          sbit BEEP=P2^5;
  61          
  62          void delay_10us(u16 ten_us)
  63          {
  64   1              while (ten_us--);
  65   1      }
  66          
  67          //unit of duration is 10us
  68          //unit of pitch is 10us
  69          void note(u16 duration,u16 pitch)
  70          {
  71   1      
  72   1              u16 total_time=0;
  73   1              if (pitch!=0)
  74   1              {
  75   2                      while(total_time < duration)
  76   2                      {
  77   3                              BEEP = 1;
  78   3                              delay_10us(pitch/2);
  79   3                              BEEP = 0;
  80   3                              delay_10us(pitch/2);
  81   3                              total_time += pitch;
  82   3                      }
  83   2              }
  84   1      }
  85          
  86          void play_music(u16 (*music)[2])
  87          {
  88   1              u16 duration;
  89   1              u16 pitch;
  90   1      
  91   1              u16 (*play)[2] = music;
  92   1      
  93   1              while (play[0][0] !=0 || play[0][1] != 0)
  94   1              {
  95   2                      duration = play[0][0];
  96   2                      pitch = play[0][1];
  97   2                      note(duration, pitch);
  98   2                      play++;
  99   2              }
 100   1      }
 101          
 102          void Delay3000ms(void)  //@11.0592MHz
 103          {
 104   1              unsigned char data i, j, k;
 105   1      
 106   1              _nop_();
 107   1              _nop_();
 108   1              i = 127;
 109   1              j = 18;
 110   1              k = 107;
 111   1              do
 112   1              {
 113   2                      do
 114   2                      {
 115   3                              while (--k);
 116   3                      } while (--j);
C51 COMPILER V9.60.7.0   BUZZER                                                            02/28/2026 14:28:57 PAGE 3   

 117   2              } while (--i);
 118   1      }
 119          
 120          
 121          void BuzzerPlay (char Mod)
 122          {
 123   1              if(Mod==1)
 124   1              {
 125   2                      u16 code music[][2] = {
 126   2                              {HALF,E5},
 127   2                              {0, 0}
 128   2                      };
 129   2      
 130   2                      play_music(music);
 131   2              }
 132   1              else if(Mod==2)
 133   1              {
 134   2                      u16 code music[][2]= {
 135   2                              {QUAR,E5},
 136   2                              {0,0}
 137   2                      };
 138   2                      play_music(music);
 139   2              }
 140   1              else if(Mod==3)
 141   1              {
 142   2                      u16 code music[][2]= {
 143   2                              {SIXTE,E5},
 144   2                              {0,0}
 145   2                      };
 146   2                      play_music(music);
 147   2              }
 148   1              else if(Mod==4)
 149   1              {
 150   2                      u16 code music[][2]= {
 151   2                              {WHOL,E5},
 152   2                              {0,0}
 153   2                      };
 154   2                      play_music(music);
 155   2              }
 156   1      
 157   1      
 158   1      
 159   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    204    ----
   CONSTANT SIZE    =     32    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      10
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
